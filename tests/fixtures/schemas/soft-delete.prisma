datasource db {
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

/// User with soft-delete — unique on email without deleted_at (should be flagged)
model User {
  id         Int       @id @default(autoincrement())
  email      String    @unique
  name       String?
  deleted_at DateTime?
}

/// Account with soft-delete — unique includes deletedAt (clean)
model Account {
  id        Int       @id @default(autoincrement())
  slug      String
  deletedAt DateTime?

  @@unique([slug, deletedAt])
}

/// Post without soft-delete field (clean — no findings)
model Post {
  id    Int    @id @default(autoincrement())
  title String
}

/// Product with soft-delete — two uniques both missing it (2 findings)
model Product {
  id         Int       @id @default(autoincrement())
  sku        String    @unique
  name       String    @unique
  deleted_at DateTime?
}
